const api="https://fcc-weather-api.glitch.me/api/current?",getLocationURL="https://geoip.nekudo.com/api/en/";async function getWeather(){try{const getLocation=await axios.get(getLocationURL),latitude=getLocation.data.location.latitude,longitude=getLocation.data.location.longitude,url=`${api}lat=${latitude}&lon=${longitude}`;await axios.get(url).then(get=>{const city=get.data.name,country=get.data.sys.country,tempC=get.data.main.temp.toFixed(0),weather=get.data.weather[0].main,icon=get.data.weather[0].icon;$("#location").html(`${city}, ${country}`),$("#weather").html(`${weather}</br><img src='${icon}' alt='Weather icon'/>`);const tempF=Math.round(9*parseInt(tempC)/5+32);$("#temperature").text(`${tempC} C°`),$(function(){$("#unit-converter").change(function(){$(this).prop("checked")?$("#temperature").html(`${tempF} F`):$("#temperature").html(`${tempC} °C`)})});const cloudyImage="images/clouds.jpg",clearImage="images/clear.jpg",snowImage="images/snow.jpg",rainImage="images/rain.jpg",nightClearImage="images/night_clear.jpg",fogImage="images/fog.jpg",mistImage="images/mist.jpg";"Clear"==weather?$("body").css("background","url("+clearImage+")"):"Clouds"==weather?$("body").css("background","url("+cloudyImage+")"):"Snow"==weather?$("body").css("background","url("+snowImage+")"):"Rain"==weather?$("body").css("background","url("+rainImage+")"):"Night-Clear"==weather?$("body").css("background","url("+nightClearImage+")"):"Fog"==weather?$("body").css("background","url("+fogImage+")"):"Mist"==weather&&$("body").css("background","url("+mistImage+")")})}catch(error){console.log(error)}}getWeather();